<templates id="template" xml:space="preserve">
    <!-- Template para la vista de calendario personalizada -->
    <t t-name="service.calendar.view">
        <div class="o_service_calendar">
            <div class="o_calendar_view"/>
        </div>
    </t>
    
    <!-- Template para el popover de eventos del calendario -->
    <t t-name="service.calendar.popover">
        <div class="o_calendar_service_popover">
            <div class="popover-arrow"/>
            <h3 class="popover-title"/>
            <div class="popover-content">
                <div class="o_service_info">
                    <div class="o_service_client">
                        <strong>Cliente:</strong>
                        <span class="o_service_client_value" t-esc="client_id[1]"/>
                    </div>
                    <div class="o_service_equipment">
                        <strong>Equipo:</strong>
                        <span class="o_service_equipment_value" t-esc="equipment_id[1]"/>
                    </div>
                    <div class="o_service_type">
                        <strong>Tipo:</strong>
                        <span class="o_service_type_value" t-esc="service_type_id[1]"/>
                    </div>
                    <div class="o_service_technician">
                        <strong>Técnico:</strong>
                        <span class="o_service_technician_value" t-esc="technician_id[1]"/>
                    </div>
                    <div class="o_service_priority">
                        <strong>Prioridad:</strong>
                        <span class="o_service_priority_value">
                            <t t-if="priority == '0'">Normal</t>
                            <t t-if="priority == '1'">Alta</t>
                            <t t-if="priority == '2'">Urgente</t>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </t>
    
    <!-- Template para el botón de calendario -->
    <t t-name="service.calendar.button">
        <button type="button" class="btn btn-secondary o_service_calendar_button">
            <i class="fa fa-calendar"/>
            Ver Calendario
        </button>
    </t>
    
    <!-- Template para el filtro de calendario -->
    <t t-name="service.calendar.filter">
        <div class="o_service_calendar_filter">
            <div class="form-group">
                <label class="col-form-label">Estado:</label>
                <select class="form-control o_service_state_filter">
                    <option value="all">Todos</option>
                    <option value="draft">Borrador</option>
                    <option value="confirmed">Confirmado</option>
                    <option value="in_progress">En Progreso</option>
                    <option value="done">Completado</option>
                    <option value="cancel">Cancelado</option>
                </select>
            </div>
            <div class="form-group">
                <label class="col-form-label">Prioridad:</label>
                <select class="form-control o_service_priority_filter">
                    <option value="all">Todas</option>
                    <option value="0">Normal</option>
                    <option value="1">Alta</option>
                    <option value="2">Urgente</option>
                </select>
            </div>
        </div>
    </t>
    
    <!-- Template para la vista de lista de servicios -->
    <t t-name="service.order.list">
        <div class="o_service_order_list">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Número</th>
                        <th>Cliente</th>
                        <th>Equipo</th>
                        <th>Tipo</th>
                        <th>Fecha</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="services" t-as="service">
                        <td>
                            <a t-attf-href="#/service/#{service.id}">
                                <t t-esc="service.name"/>
                            </a>
                        </td>
                        <td t-esc="service.client_id[1]"/>
                        <td t-esc="service.equipment_id[1]"/>
                        <td t-esc="service.service_type_id[1]"/>
                        <td t-esc="service.scheduled_date"/>
                        <td>
                            <span t-att-class="'badge o_service_order_state_badge o_state_' + service.state">
                                <t t-esc="service.state"/>
                            </span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-primary o_service_edit_button" 
                                    t-att-data-id="service.id">
                                Editar
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </t>
</templates>
